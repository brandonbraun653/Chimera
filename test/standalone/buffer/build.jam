
local path-constant build_directory = $(COVERAGE_BUILD_DIR)/buffer ;

exe ChimeraBufferTests
  : buffer_test.cpp
  :
    <use>/CHIMERA//PUB
    <use>/FREERTOS//PUB
    <use>/GTEST//TEST_PUB

    <use>/PRJ//BOOST
    <use>/PRJ//CHIMERA_PORT
    <use>/PRJ//CHIMERA_DEFS
    <use>/PRJ//FREERTOS_CFG

    <library>/CHIMERA//CORE
    <library>/CHIMERA/TEST/STANDALONE//CORE
    <library>/GTEST//gtest

    <location>$(build_directory)
  ;
explicit ChimeraBufferTests ;

alias TEST
  : ChimeraBufferTests
  : <Chimera>enabled
    <Chimera-backend>Sim
    <FreeRTOS>enabled
    <FreeRTOS-port>Windows
    <FreeRTOS-heap>heap4
  ;
explicit TEST ;